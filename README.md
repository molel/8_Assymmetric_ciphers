## Алгоритмы асимметричного шифрования

### Цель работы

Познакомиться с принципами работы протоколов рукопожатия в современных компьютерных системах

### Дополнительные задания

1. Модифицируйте код клиента и сервера так, чтобы приватный и публичный ключ хранились в текстовых файлах на диске и,
   таким образом, переиспользовались между запусками.

Все создаваемые и сертифицированные ключи хранятся в каталоге keys и считываются оттуда каждый раз.
![screenshot](screenshots\1.jpg)

2. Проведите рефакторинг кода клиента и сервера так, чтобы все, относящееся к генерации ключей, установлению режима
   шифрования, шифрованию исходящих и дешифрованию входящих сообщений было отделено от основного алгоритма обмена
   сообщениями.

Весь код разделен на логические блоки:

a. cipher.py - шифрование и дешифровка данных

b. generator.py - генерация и сохранения обычных ключей и сохранения сертифицированных

c. protectedServer.py - проверка ключа на сертифицированность

d. client.py, server.py, filemanager.py - реализация устройства фтп-сервера

e. settings.py - настройки проекта
![screenshot](screenshots\2.jpg)

3. Реализуйте на сервере проверку входящих сертификатов. На сервере должен храниться список разрешенных ключей. Когда
   клиент посылает на сервер свой публичный ключ, сервер ищет его среди разрешенных и, если такого не находит, разрывает
   соединение. Проверьте правильность работы на нескольких разных клиентах.

Все сертифицированные ключи хранятся в certified_keys.json. При подключении пользователя проверяется его публичный ключ.
![screenshot](screenshots\3.1.jpg)
![screenshot](screenshots\3.2.jpg)

4. Модифицируйте код клиента и сервера таким образом, чтобы установление режима шифрования происходило при подключении
   на один порт, а основное общение - на другом порту. Номер порта можно передавать как первое зашифрованное сообщение.
5. Реализуйте пул портов.

Порт для взаимодействия с клиентом после проверки его публичного ключа выбирается последовательно из диапазона,
указанного в настройках проекта.
![screenshot](screenshots\4.jpg)

6. Модифицируйте код FTP-сервера таким образом, чтобы он поддерживал шифрование.

Демонстрация работы фтп-сервера. В качестве ответа выводится сообщение в зашифрованном и расшифрованном состояниях.
![screenshot](screenshots\6.1.jpg)
![screenshot](screenshots\6.2.jpg)
